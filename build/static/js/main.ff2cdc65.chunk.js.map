{"version":3,"sources":["services/numbers.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","newObject","post","id","put","delete","Filter","onChange","value","AddNew","onNameChange","onPhoneChange","name","phone","onSubmit","type","onClick","Numbers","persons","onDel","map","person","key","phoneNumber","Notification","message","messageType","className","App","useState","setPersons","newName","setNewName","newPhone","setNewPhone","setMessage","setMessageType","useEffect","numberService","filter","setFilter","personsFiltered","toLowerCase","includes","e","target","preventDefault","find","p","changedNumber","window","confirm","setTimeout","catch","error","concat","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ff2cdc65.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseURL = \"/api/persons\";\r\nconst getNumbers = () => axios.get(baseURL).then((response) => response.data);\r\nconst addNew = (newObject) =>\r\n  axios.post(baseURL, newObject).then((response) => response.data);\r\nconst update = (id, newObject) =>\r\n  axios.put(`${baseURL}/${id}`, newObject).then((response) => response.data);\r\nconst del = (id) => axios.delete(`${baseURL}/${id}`);\r\nexport default {\r\n  getNumbers,\r\n  addNew,\r\n  update,\r\n  del,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport numberService from \"./services/numbers\";\nconst Filter = ({ onChange, value }) => {\n  return (\n    <div>\n      filter shown with\n      <input onChange={onChange} value={value} />\n    </div>\n  );\n};\nconst AddNew = ({ onNameChange, onPhoneChange, name, phone, onSubmit }) => {\n  return (\n    <form>\n      <h3>Add a new</h3>\n      <div>\n        name: <input onChange={onNameChange} value={name} />\n      </div>\n      <div>\n        Phone: <input onChange={onPhoneChange} value={phone} />\n      </div>\n      <div>\n        <button type=\"submit\" onClick={onSubmit}>\n          add\n        </button>\n      </div>\n    </form>\n  );\n};\nconst Numbers = ({ persons, onDel }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {persons.map((person) => (\n        <div key={person.name}>\n          {person.name} {person.phoneNumber}\n          <button onClick={() => onDel(person.id)}>delete</button>\n        </div>\n      ))}\n    </div>\n  );\n};\nconst Notification = ({ message, messageType }) => {\n  if (message === null) {\n    return null;\n  }\n  return <div className={messageType}>{message}</div>;\n};\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n  const [message, setMessage] = useState();\n  const [messageType, setMessageType] = useState();\n  useEffect(() => {\n    numberService.getNumbers().then((data) => setPersons(data));\n  }, []);\n  const handleNameInput = (e) => {\n    setNewName(e.target.value);\n  };\n  const handlePhoneInput = (e) => {\n    setNewPhone(e.target.value);\n  };\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const newObject = {\n      name: newName,\n      phoneNumber: newPhone,\n    };\n    const person = persons.find((p) => p.name === newName);\n    const changedNumber = { ...person, phoneNumber: newPhone };\n    if (persons.includes(person)) {\n      if (person.name === newName) {\n        if (\n          window.confirm(\n            `${newName} is already in the phonebook, replace the old number with a new one?`\n          )\n        )\n          numberService\n            .update(person.id, changedNumber)\n            .then((response) =>\n              setPersons(\n                persons.map((p) => (p.id !== person.id ? p : response))\n              )\n            )\n            .then(() => {\n              setMessage(`Updated ${newObject.name}`);\n              setMessageType(\"success\");\n              setTimeout(() => {\n                setMessage(null);\n                setMessageType(null);\n              }, 5000);\n            })\n            .catch((error) => {\n              setMessage(error.response.data.error);\n              setMessageType(\"error\");\n              setTimeout(() => {\n                setMessage(null);\n                setMessageType(null);\n              }, 5000);\n            });\n      }\n    } else\n      numberService\n        .addNew(newObject)\n        .then((data) => setPersons(persons.concat(data)))\n        .then(() => {\n          setMessage(`Added ${newObject.name}`);\n          setMessageType(\"success\");\n          setTimeout(() => {\n            setMessage(null);\n            setMessageType(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          console.log(error.response.data.error);\n          setMessage(error.response.data.error);\n          // error.name\n          // `${\n          //   newObject.name.length < 3 || newObject.phoneNumber.length < 8\n          //     ? \"Name must be at least 3 characters or number must be at least 8 degit\"\n          //     : error.message\n          // }`\n          setMessageType(\"error\");\n          setTimeout(() => {\n            setMessage(null);\n            setMessageType(null);\n          }, 5000);\n        });\n\n    setNewName(\"\");\n    setNewPhone(\"\");\n  };\n  const deleteNumber = (id) => {\n    if (window.confirm(\"are you sure u want to delete?\")) {\n      numberService\n        .del(id)\n        .then(() => {\n          setMessage(\n            `Deleted ${persons.find((person) => person.id === id).name}`\n          );\n          setMessageType(\"success\");\n          setTimeout(() => {\n            setMessage(null);\n            setMessageType(null);\n          }, 5000);\n        })\n        .catch((error) => {\n          setMessage(\n            `Information of ${\n              persons.find((person) => person.id === id).name\n            } has already been removed from server`\n          );\n          setMessageType(\"error\");\n          setTimeout(() => {\n            setMessage(null);\n            setMessageType(null);\n          }, 5000);\n        });\n    }\n  };\n  const [filter, setFilter] = useState(\"\");\n  const handleFilter = (e) => {\n    setFilter(e.target.value);\n  };\n  let personsFiltered = persons;\n  if (filter !== \"\") {\n    personsFiltered = persons.filter((person) =>\n      person.name.toLowerCase().includes(filter.toLowerCase())\n    );\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType} />\n      <Filter onChange={handleFilter} value={filter} />\n\n      <AddNew\n        onNameChange={handleNameInput}\n        onPhoneChange={handlePhoneInput}\n        name={newName}\n        phone={newPhone}\n        onSubmit={onSubmit}\n      />\n      <Numbers persons={personsFiltered} onDel={deleteNumber} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}